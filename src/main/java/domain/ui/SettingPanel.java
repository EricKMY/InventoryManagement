/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package domain.ui;

import domain.controller.IController;
import domain.labMember.*;

import java.util.HashMap;
import java.util.Map;
import javax.swing.DefaultComboBoxModel;
import javax.swing.Icon;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;

/**
 *
 * @author lab1321
 */
public class SettingPanel extends javax.swing.JPanel {

    private MainFrame mainFrame;
    private IController controller;
    private ImageIcon icon;
    private ILabMember labMember;
    private ILabMemberList labMemberList;
    Icon sucessIcon = new ImageIcon(this.getClass().getResource("images/sucess.png"));
    Icon errorIcon = new ImageIcon(this.getClass().getResource("images/error.png"));
    DefaultComboBoxModel  defaultComboBoxModel = new DefaultComboBoxModel();
    private Map<String, ILabMember> searchMap;
    
    public SettingPanel(MainFrame mainFrame, IController controller) {
        this.mainFrame = mainFrame;
        this.controller = controller;
        this.setBounds(0, 0, 800, 600);
        initComponents();
        this.setVisible(false);
        Icon inventoryIcon = new ImageIcon(this.getClass().getResource("images/inventory.png"));
        Icon homeIcon = new ImageIcon(this.getClass().getResource("images/home.png"));
        Icon logoutIcon = new ImageIcon(this.getClass().getResource("images/logout.png"));
        homeBtn.setIcon(homeIcon);
        inventoryBtn.setIcon(inventoryIcon);
        logoutBtn.setIcon(logoutIcon);
    }
    
    public void setLabMember(ILabMember labMember) {
        this.labMember = labMember;
    }
    
    public void setLabMemberList(ILabMemberList labMemberList){
        this.labMemberList = labMemberList;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        updatePasswordDialog = new javax.swing.JDialog();
        updatePasswordPanel = new javax.swing.JPanel();
        oldPasswordLabel = new javax.swing.JLabel();
        confirmPasswordLabel = new javax.swing.JLabel();
        newPasswordLabel = new javax.swing.JLabel();
        oldPasswordField = new javax.swing.JPasswordField();
        newPasswordField = new javax.swing.JPasswordField();
        dialogUpdatePasswordBtn = new javax.swing.JButton();
        confirmPasswordField = new javax.swing.JPasswordField();
        updatePasswordTitleLabel = new javax.swing.JLabel();
        addLabMemberDialog = new javax.swing.JDialog();
        labSettingPanel = new javax.swing.JPanel();
        labMemberNameLabel = new javax.swing.JLabel();
        labMemberEmailLabel = new javax.swing.JLabel();
        labMemberPasswordLabel = new javax.swing.JLabel();
        addLabMemberTitleLabel = new javax.swing.JLabel();
        labMemberEmailField = new javax.swing.JTextField();
        labMemberNameField = new javax.swing.JTextField();
        labMemberPasswordField = new javax.swing.JTextField();
        addLabMemberButton = new javax.swing.JButton();
        changePermissionDialog = new javax.swing.JDialog();
        changePermissionPanel = new javax.swing.JPanel();
        changePermissionTitleLabel = new javax.swing.JLabel();
        memberPermissionLabel = new javax.swing.JLabel();
        memberNameLabel = new javax.swing.JLabel();
        nameComboBox = new javax.swing.JComboBox<>();
        permissionComboBox = new javax.swing.JComboBox<>();
        changeBtn = new javax.swing.JButton();
        inventoryBtn = new javax.swing.JButton();
        titleLabel = new javax.swing.JLabel();
        homeBtn = new javax.swing.JButton();
        logoutBtn = new javax.swing.JButton();
        nameLabel = new javax.swing.JLabel();
        nameField = new javax.swing.JTextField();
        emailLabel = new javax.swing.JLabel();
        phoneLabel = new javax.swing.JLabel();
        emailField = new javax.swing.JTextField();
        phoneField = new javax.swing.JTextField();
        updateBtn = new javax.swing.JButton();
        updatePasswordBtn = new javax.swing.JButton();
        permissionLabel = new javax.swing.JLabel();
        permissionField = new javax.swing.JTextField();
        addLabMemberBtn = new javax.swing.JButton();
        changePermissionBtn = new javax.swing.JButton();

        updatePasswordDialog.setBackground(new java.awt.Color(204, 204, 204));

        updatePasswordPanel.setBackground(new java.awt.Color(255, 255, 255));

        oldPasswordLabel.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        oldPasswordLabel.setText("Old Password:");

        confirmPasswordLabel.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        confirmPasswordLabel.setText("Confrim New Password:");

        newPasswordLabel.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        newPasswordLabel.setText("New Password:");

        oldPasswordField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        oldPasswordField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                oldPasswordFieldActionPerformed(evt);
            }
        });
        oldPasswordField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                oldPasswordFieldKeyPressed(evt);
            }
        });

        newPasswordField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        newPasswordField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                newPasswordFieldActionPerformed(evt);
            }
        });
        newPasswordField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                newPasswordFieldKeyPressed(evt);
            }
        });

        dialogUpdatePasswordBtn.setFont(new java.awt.Font("Lucida Grande", 0, 22)); // NOI18N
        dialogUpdatePasswordBtn.setText("Update Password");
        dialogUpdatePasswordBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dialogUpdatePasswordBtnActionPerformed(evt);
            }
        });

        confirmPasswordField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        confirmPasswordField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                confirmPasswordFieldActionPerformed(evt);
            }
        });
        confirmPasswordField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                confirmPasswordFieldKeyPressed(evt);
            }
        });

        updatePasswordTitleLabel.setFont(new java.awt.Font("標楷體", 1, 36)); // NOI18N
        updatePasswordTitleLabel.setText("Update Password");

        javax.swing.GroupLayout updatePasswordPanelLayout = new javax.swing.GroupLayout(updatePasswordPanel);
        updatePasswordPanel.setLayout(updatePasswordPanelLayout);
        updatePasswordPanelLayout.setHorizontalGroup(
            updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(updatePasswordPanelLayout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addGroup(updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(updatePasswordPanelLayout.createSequentialGroup()
                        .addGap(67, 67, 67)
                        .addComponent(updatePasswordTitleLabel))
                    .addGroup(updatePasswordPanelLayout.createSequentialGroup()
                        .addGroup(updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(oldPasswordLabel)
                            .addComponent(newPasswordLabel)
                            .addComponent(confirmPasswordLabel))
                        .addGap(1, 1, 1)
                        .addGroup(updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(newPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(confirmPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(oldPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(dialogUpdatePasswordBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(34, Short.MAX_VALUE))
        );
        updatePasswordPanelLayout.setVerticalGroup(
            updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(updatePasswordPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(updatePasswordTitleLabel)
                .addGap(45, 45, 45)
                .addGroup(updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(oldPasswordLabel)
                    .addComponent(oldPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(23, 23, 23)
                .addGroup(updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(newPasswordLabel)
                    .addComponent(newPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(23, 23, 23)
                .addGroup(updatePasswordPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(confirmPasswordLabel)
                    .addComponent(confirmPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(23, 23, 23)
                .addComponent(dialogUpdatePasswordBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(68, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout updatePasswordDialogLayout = new javax.swing.GroupLayout(updatePasswordDialog.getContentPane());
        updatePasswordDialog.getContentPane().setLayout(updatePasswordDialogLayout);
        updatePasswordDialogLayout.setHorizontalGroup(
            updatePasswordDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(updatePasswordDialogLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(updatePasswordPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        updatePasswordDialogLayout.setVerticalGroup(
            updatePasswordDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(updatePasswordDialogLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(updatePasswordPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        labSettingPanel.setBackground(new java.awt.Color(255, 255, 255));

        labMemberNameLabel.setFont(new java.awt.Font("新細明體", 0, 36)); // NOI18N
        labMemberNameLabel.setText("Add Lab Member");

        labMemberEmailLabel.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        labMemberEmailLabel.setText("Name:");

        labMemberPasswordLabel.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        labMemberPasswordLabel.setText("Email: ");

        addLabMemberTitleLabel.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        addLabMemberTitleLabel.setText("Password: ");

        labMemberEmailField.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        labMemberEmailField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                labMemberEmailFieldKeyPressed(evt);
            }
        });

        labMemberNameField.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        labMemberNameField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                labMemberNameFieldKeyPressed(evt);
            }
        });

        labMemberPasswordField.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        labMemberPasswordField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                labMemberPasswordFieldKeyPressed(evt);
            }
        });

        addLabMemberButton.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        addLabMemberButton.setText("Add");
        addLabMemberButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                addLabMemberButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout labSettingPanelLayout = new javax.swing.GroupLayout(labSettingPanel);
        labSettingPanel.setLayout(labSettingPanelLayout);
        labSettingPanelLayout.setHorizontalGroup(
            labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
            .addGroup(labSettingPanelLayout.createSequentialGroup()
                .addGap(37, 37, 37)
                .addGroup(labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(addLabMemberTitleLabel)
                    .addComponent(labMemberPasswordLabel)
                    .addComponent(labMemberEmailLabel))
                .addGap(148, 148, 148)
                .addGroup(labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, labSettingPanelLayout.createSequentialGroup()
                        .addComponent(addLabMemberButton, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(labMemberPasswordField)
                    .addComponent(labMemberEmailField, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(labMemberNameField, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(228, 228, 228))
            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, labSettingPanelLayout.createSequentialGroup()
                .addGap(150, 150, 150)
                .addComponent(labMemberNameLabel)
                .addGap(150, 150, 150))
        );
        labSettingPanelLayout.setVerticalGroup(
            labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(labSettingPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(labMemberNameLabel)
                .addGap(18, 18, 18)
                .addGroup(labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labMemberEmailLabel)
                    .addComponent(labMemberNameField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labMemberPasswordLabel)
                    .addComponent(labMemberEmailField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(labSettingPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(addLabMemberTitleLabel)
                    .addComponent(labMemberPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(34, 34, 34)
                .addComponent(addLabMemberButton, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(32, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout addLabMemberDialogLayout = new javax.swing.GroupLayout(addLabMemberDialog.getContentPane());
        addLabMemberDialog.getContentPane().setLayout(addLabMemberDialogLayout);
        addLabMemberDialogLayout.setHorizontalGroup(
            addLabMemberDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(labSettingPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 574, Short.MAX_VALUE)
        );
        addLabMemberDialogLayout.setVerticalGroup(
            addLabMemberDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(labSettingPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        changePermissionPanel.setBackground(new java.awt.Color(255, 255, 255));

        changePermissionTitleLabel.setFont(new java.awt.Font("新細明體", 0, 36)); // NOI18N
        changePermissionTitleLabel.setText("Change Permission");

        memberPermissionLabel.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        memberPermissionLabel.setText("Permission:");

        memberNameLabel.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        memberNameLabel.setText("Name:");

        nameComboBox.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N

        permissionComboBox.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N

        changeBtn.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        changeBtn.setText("Change");
        changeBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                changeBtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout changePermissionPanelLayout = new javax.swing.GroupLayout(changePermissionPanel);
        changePermissionPanel.setLayout(changePermissionPanelLayout);
        changePermissionPanelLayout.setHorizontalGroup(
            changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(changePermissionPanelLayout.createSequentialGroup()
                .addGroup(changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(changeBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(changePermissionPanelLayout.createSequentialGroup()
                            .addGap(129, 129, 129)
                            .addComponent(changePermissionTitleLabel))
                        .addGroup(changePermissionPanelLayout.createSequentialGroup()
                            .addGap(260, 260, 260)
                            .addComponent(permissionComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(changePermissionPanelLayout.createSequentialGroup()
                            .addGap(68, 68, 68)
                            .addGroup(changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(memberNameLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(memberPermissionLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 166, Short.MAX_VALUE))
                            .addGap(26, 26, 26)
                            .addComponent(nameComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(128, Short.MAX_VALUE))
        );
        changePermissionPanelLayout.setVerticalGroup(
            changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(changePermissionPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(changePermissionTitleLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 22, Short.MAX_VALUE)
                .addGroup(changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(memberNameLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(nameComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(40, 40, 40)
                .addGroup(changePermissionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(memberPermissionLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(permissionComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(58, 58, 58)
                .addComponent(changeBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(38, 38, 38))
        );

        javax.swing.GroupLayout changePermissionDialogLayout = new javax.swing.GroupLayout(changePermissionDialog.getContentPane());
        changePermissionDialog.getContentPane().setLayout(changePermissionDialogLayout);
        changePermissionDialogLayout.setHorizontalGroup(
            changePermissionDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(changePermissionPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        changePermissionDialogLayout.setVerticalGroup(
            changePermissionDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(changePermissionPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        setBackground(new java.awt.Color(255, 255, 255));

        inventoryBtn.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        inventoryBtn.setText("Inventory");
        inventoryBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                inventoryBtnActionPerformed(evt);
            }
        });

        titleLabel.setFont(new java.awt.Font("Lucida Grande", 1, 40)); // NOI18N
        titleLabel.setText("Lab Inventory System");

        homeBtn.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        homeBtn.setText("Home");
        homeBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                homeBtnActionPerformed(evt);
            }
        });

        logoutBtn.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        logoutBtn.setText("Logout");
        logoutBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                logoutBtnActionPerformed(evt);
            }
        });

        nameLabel.setFont(new java.awt.Font("Lucida Grande", 1, 24)); // NOI18N
        nameLabel.setText("Name:");

        nameField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        nameField.setText("Name");

        emailLabel.setFont(new java.awt.Font("Lucida Grande", 1, 24)); // NOI18N
        emailLabel.setText("Email:");

        phoneLabel.setFont(new java.awt.Font("Lucida Grande", 1, 24)); // NOI18N
        phoneLabel.setText("Phone:");

        emailField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        emailField.setText("Email");

        phoneField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        phoneField.setText("Phone");

        updateBtn.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        updateBtn.setText("Update User Info");
        updateBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                updateBtnActionPerformed(evt);
            }
        });

        updatePasswordBtn.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        updatePasswordBtn.setText("Update Password");
        updatePasswordBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                updatePasswordBtnActionPerformed(evt);
            }
        });

        permissionLabel.setFont(new java.awt.Font("Lucida Grande", 1, 24)); // NOI18N
        permissionLabel.setText("Permission:");

        permissionField.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        permissionField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                permissionFieldActionPerformed(evt);
            }
        });

        addLabMemberBtn.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        addLabMemberBtn.setText("Add Lab Member");
        addLabMemberBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                addLabMemberBtnActionPerformed(evt);
            }
        });

        changePermissionBtn.setFont(new java.awt.Font("新細明體", 0, 24)); // NOI18N
        changePermissionBtn.setText("Change Permission");
        changePermissionBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                changePermissionBtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(176, 176, 176)
                .addComponent(titleLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
                .addGap(55, 55, 55)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(homeBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(30, 30, 30)
                        .addComponent(inventoryBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(30, 30, 30)
                        .addComponent(logoutBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                .addComponent(permissionLabel)
                                .addGap(18, 18, 18)
                                .addComponent(permissionField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(nameLabel)
                                    .addComponent(emailLabel)
                                    .addComponent(phoneLabel))
                                .addGap(21, 21, 21)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(nameField)
                                    .addComponent(emailField)
                                    .addComponent(phoneField, javax.swing.GroupLayout.DEFAULT_SIZE, 228, Short.MAX_VALUE))))
                        .addGap(63, 63, 63)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(updatePasswordBtn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(updateBtn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(changePermissionBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 263, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(addLabMemberBtn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addGap(55, 55, 55))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(37, 37, 37)
                .addComponent(titleLabel)
                .addGap(59, 59, 59)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(inventoryBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(logoutBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(homeBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(59, 59, 59)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nameLabel)
                    .addComponent(nameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(updateBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(34, 34, 34)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(emailLabel)
                    .addComponent(emailField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(updatePasswordBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(28, 28, 28)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(phoneLabel)
                    .addComponent(phoneField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(addLabMemberBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(permissionLabel)
                    .addComponent(permissionField, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(changePermissionBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(39, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void inventoryBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_inventoryBtnActionPerformed
        // TODO add your handling code here:
        mainFrame.getContentPane().remove(mainFrame.getSettingPanel());
        mainFrame.getContentPane().add(mainFrame.getInventoryPanel());
        mainFrame.getInventoryPanel().setVisible(true);
        mainFrame.revalidate();
        mainFrame.repaint();
    }//GEN-LAST:event_inventoryBtnActionPerformed

    private void homeBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_homeBtnActionPerformed
        // TODO add your handling code here:
        mainFrame.getContentPane().remove(mainFrame.getSettingPanel());
        mainFrame.getContentPane().add(mainFrame.getHomePanel());
        mainFrame.getHomePanel().setVisible(true);
        mainFrame.revalidate();
        mainFrame.repaint();
    }//GEN-LAST:event_homeBtnActionPerformed

    private void logoutBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_logoutBtnActionPerformed
        // TODO add your handling code here:
        mainFrame.getContentPane().remove(mainFrame.getSettingPanel());
        mainFrame.getContentPane().add(mainFrame.getLoginPanel());
        mainFrame.getLoginPanel().setVisible(true);
        mainFrame.revalidate();
        mainFrame.repaint();
        mainFrame.getLoginPanel().labMember = null;
    }//GEN-LAST:event_logoutBtnActionPerformed

    private void updateBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_updateBtnActionPerformed
        // TODO add your handling code here:
        if(!nameField.getText().equals(labMember.getName()))
            labMember.setName(nameField.getText());
        if(!emailField.getText().equals(labMember.getEmail()))
            labMember.setEmail(emailField.getText());
        if(!phoneField.getText().equals(labMember.getPhone()))
            labMember.setPhone(phoneField.getText());
    }//GEN-LAST:event_updateBtnActionPerformed

    private void oldPasswordFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_oldPasswordFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_oldPasswordFieldActionPerformed

    private void updatePasswordBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_updatePasswordBtnActionPerformed
        // TODO add your handling code here:
        updatePasswordDialog.setBounds(0, 0, 550, 420);
        updatePasswordDialog.setVisible(true);
    }//GEN-LAST:event_updatePasswordBtnActionPerformed

    private void newPasswordFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_newPasswordFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_newPasswordFieldActionPerformed

    private void confirmPasswordFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_confirmPasswordFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_confirmPasswordFieldActionPerformed

    private void dialogUpdatePasswordBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dialogUpdatePasswordBtnActionPerformed
        // TODO add your handling code here:
        updatePassword();
    }//GEN-LAST:event_dialogUpdatePasswordBtnActionPerformed

    private void permissionFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_permissionFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_permissionFieldActionPerformed

    private void confirmPasswordFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_confirmPasswordFieldKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER) {
            updatePassword();
        }
    }//GEN-LAST:event_confirmPasswordFieldKeyPressed

    private void newPasswordFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_newPasswordFieldKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER) {
            updatePassword();
        }
    }//GEN-LAST:event_newPasswordFieldKeyPressed

    private void oldPasswordFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_oldPasswordFieldKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER)
            updatePassword();
    }//GEN-LAST:event_oldPasswordFieldKeyPressed

    private void addLabMemberButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addLabMemberButtonActionPerformed
        // TODO add your handling code here:
        addLabMember();
    }//GEN-LAST:event_addLabMemberButtonActionPerformed

    private void addLabMemberBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addLabMemberBtnActionPerformed
        // TODO add your handling code here:
        addLabMemberDialog.setBounds(0, 0, 574, 370);
        addLabMemberDialog.setVisible(true);
    }//GEN-LAST:event_addLabMemberBtnActionPerformed

    private void labMemberNameFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_labMemberNameFieldKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER)
            addLabMember();
    }//GEN-LAST:event_labMemberNameFieldKeyPressed

    private void labMemberEmailFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_labMemberEmailFieldKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER)
            addLabMember();
    }//GEN-LAST:event_labMemberEmailFieldKeyPressed

    private void labMemberPasswordFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_labMemberPasswordFieldKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER)
            addLabMember();
    }//GEN-LAST:event_labMemberPasswordFieldKeyPressed

    private void changePermissionBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_changePermissionBtnActionPerformed
        // TODO add your handling code here:
        changePermissionDialog.setBounds(0, 0, 527, 370);
        changePermissionDialog.setVisible(true);
        DefaultComboBoxModel nameDefaultComboBoxModel = new DefaultComboBoxModel();
        String[] permissions = {"Admin", "Manager", "Viewer"};
        permissionComboBox.setModel(new DefaultComboBoxModel(permissions));
        searchMap = new HashMap<String, ILabMember>();
        
        for(Object key: labMemberList.getLabMemberMap().keySet()) {
            if(!labMemberList.getLabMemberMap().get(key).getName().equals(labMember.getName())){
                searchMap.put(labMemberList.getLabMemberMap().get(key).getName(), labMemberList.getLabMemberMap().get(key));
                nameDefaultComboBoxModel.addElement(labMemberList.getLabMemberMap().get(key).getName());
            
            }
        }
        nameComboBox.setModel(nameDefaultComboBoxModel);
    }//GEN-LAST:event_changePermissionBtnActionPerformed

    private void changeBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_changeBtnActionPerformed
        // TODO add your handling code here:
        controller.setUserPermission(labMember,permissionComboBox.getSelectedItem().toString(), 
                searchMap.get(nameComboBox.getSelectedItem().toString()));
        JOptionPane.showMessageDialog(null, "Change Permission Sucessfully.", "Chnage Permission ",JOptionPane.INFORMATION_MESSAGE, sucessIcon);
        changePermissionDialog.setVisible(false);
    }//GEN-LAST:event_changeBtnActionPerformed

    private void updatePassword() {        
        if(String.valueOf(oldPasswordField.getPassword()).equals("") 
                || String.valueOf(newPasswordField.getPassword()).equals("")
                || String.valueOf(confirmPasswordField.getPassword()).equals("")) {
            JOptionPane.showMessageDialog(null, "Each password field can not be empty.", "Error",JOptionPane.ERROR_MESSAGE, errorIcon);
            return;
        }
        
        if(String.valueOf(newPasswordField.getPassword()).equals(String.valueOf(oldPasswordField.getPassword()))) {
            JOptionPane.showMessageDialog(null, "New password can not be the same as old password.", "Error",JOptionPane.ERROR_MESSAGE, errorIcon);
            return;
        }
        
        if(String.valueOf(newPasswordField.getPassword()).equals(String.valueOf(confirmPasswordField.getPassword()))) {
            JOptionPane.showMessageDialog(null, "New password must be the same as password confirmed.", "Error",JOptionPane.ERROR_MESSAGE, errorIcon);
            return;
        }
        
        if(String.valueOf(newPasswordField.getPassword()).equals(String.valueOf(confirmPasswordField.getPassword())) 
                && !String.valueOf(newPasswordField.getPassword()).equals(String.valueOf(oldPasswordField.getPassword()))){
            labMember.setPassword(String.valueOf(newPasswordField.getPassword()));
            JOptionPane.showMessageDialog(null, "Update Password Sucessfully.", "Update ",JOptionPane.INFORMATION_MESSAGE, sucessIcon);
            
            oldPasswordField.setText("");
            newPasswordField.setText("");
            confirmPasswordField.setText("");
            updatePasswordDialog.setVisible(false);
        }
    }
    
    private void addLabMember() {
        if(labMemberNameField.getText().equals("") || labMemberEmailField.getText().equals("")|| labMemberPasswordField.getText().equals("")) {
            JOptionPane.showMessageDialog(null, "Each field can not be empty.", "Error",JOptionPane.ERROR_MESSAGE, errorIcon);
            return;
        }
        
        LabMember newLabMember = new Viewer(labMemberNameField.getText(), labMemberEmailField.getText(), labMemberPasswordField.getText());
        labMemberList.addLabMember(newLabMember);
        
        JOptionPane.showMessageDialog(null, "Add Lab Member Sucessfully.", "Add Lab Member ",JOptionPane.INFORMATION_MESSAGE, sucessIcon);
        labMemberNameField.setText("");
        labMemberEmailField.setText("");
        labMemberPasswordField.setText("");
        addLabMemberDialog.setVisible(false);
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    protected javax.swing.JButton addLabMemberBtn;
    private javax.swing.JButton addLabMemberButton;
    private javax.swing.JDialog addLabMemberDialog;
    private javax.swing.JLabel addLabMemberTitleLabel;
    private javax.swing.JButton changeBtn;
    private javax.swing.JButton changePermissionBtn;
    private javax.swing.JDialog changePermissionDialog;
    private javax.swing.JPanel changePermissionPanel;
    private javax.swing.JLabel changePermissionTitleLabel;
    private javax.swing.JPasswordField confirmPasswordField;
    private javax.swing.JLabel confirmPasswordLabel;
    private javax.swing.JButton dialogUpdatePasswordBtn;
    protected javax.swing.JTextField emailField;
    private javax.swing.JLabel emailLabel;
    private javax.swing.JButton homeBtn;
    private javax.swing.JButton inventoryBtn;
    private javax.swing.JTextField labMemberEmailField;
    private javax.swing.JLabel labMemberEmailLabel;
    private javax.swing.JTextField labMemberNameField;
    private javax.swing.JLabel labMemberNameLabel;
    private javax.swing.JTextField labMemberPasswordField;
    private javax.swing.JLabel labMemberPasswordLabel;
    private javax.swing.JPanel labSettingPanel;
    private javax.swing.JButton logoutBtn;
    private javax.swing.JLabel memberNameLabel;
    private javax.swing.JLabel memberPermissionLabel;
    private javax.swing.JComboBox<String> nameComboBox;
    protected javax.swing.JTextField nameField;
    private javax.swing.JLabel nameLabel;
    private javax.swing.JPasswordField newPasswordField;
    private javax.swing.JLabel newPasswordLabel;
    private javax.swing.JPasswordField oldPasswordField;
    private javax.swing.JLabel oldPasswordLabel;
    private javax.swing.JComboBox<String> permissionComboBox;
    protected javax.swing.JTextField permissionField;
    private javax.swing.JLabel permissionLabel;
    protected javax.swing.JTextField phoneField;
    private javax.swing.JLabel phoneLabel;
    private javax.swing.JLabel titleLabel;
    private javax.swing.JButton updateBtn;
    private javax.swing.JButton updatePasswordBtn;
    private javax.swing.JDialog updatePasswordDialog;
    private javax.swing.JPanel updatePasswordPanel;
    private javax.swing.JLabel updatePasswordTitleLabel;
    // End of variables declaration//GEN-END:variables

}
